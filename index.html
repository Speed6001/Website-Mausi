<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>F√ºr Mausi ‚ù§Ô∏è</title>

<style>
:root{
  --bg1:#ff6fa6;
  --bg2:#ffd1e3;
  --card:#ffffffee;
  --accent:#ff3b7a;
  --yes:#22c55e;
  --no:#ef4444;
  --text:#2b1b24;
}

*{box-sizing:border-box;}
html,body{height:auto;}

body{
  margin:0;
  min-height:100vh;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:
    radial-gradient(circle at 12% 18%, rgba(255,255,255,.45), transparent 35%),
    radial-gradient(circle at 85% 80%, rgba(255,255,255,.35), transparent 40%),
    radial-gradient(circle at 20% 20%, var(--bg2), var(--bg1));
  color:var(--text);
  overflow:auto;
  padding: 18px 12px 40px;
  display:block;
}

.wrap{
  width:min(520px, 95vw);
  margin: 0 auto;
  background:var(--card);
  border-radius:24px;
  padding:18px 16px 20px;
  box-shadow:0 25px 60px rgba(0,0,0,.20);
  text-align:center;
  position:relative;
  border: 1px solid rgba(255,255,255,.55);
}

.title{
  font-size: clamp(22px, 5.5vw, 34px);
  font-weight: 900;
  margin: 4px 0 6px;
}

.subtitle{
  font-size: 13px;
  opacity:.75;
  margin: 0 0 10px;
}

/* ===== Umschlag / Envelope ===== */
.envelope-wrap{
  display:flex;
  justify-content:center;
  margin: 14px 0 6px;
  perspective: 900px;
}

.envelope{
  width: min(360px, 92vw);
  height: 220px;
  position:relative;
  border-radius:22px;
  box-shadow: 0 18px 38px rgba(0,0,0,.18);
  overflow:hidden;
}

.env-back{
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
}

.env-paper{
  position:absolute;
  left:14px; right:14px; bottom:14px;
  height: 64%;
  border-radius:18px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(0,0,0,.05);
  box-shadow: 0 12px 25px rgba(0,0,0,.08);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 14px;
  z-index:2;
}

.paper-text{
  font-weight:900;
  font-size: 18px;
  text-align:center;
  line-height:1.1;
}

/* Flap (Klappe) */
.env-flap{
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.65));
  clip-path: polygon(0 0, 100% 0, 50% 58%);
  transform-origin: 50% 0%;
  transform: rotateX(0deg);
  transition: transform .8s cubic-bezier(.2,.9,.2,1);
  z-index:4;
}

/* Front (unten) */
.env-front{
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.85));
  clip-path: polygon(0 100%, 100% 100%, 100% 35%, 50% 64%, 0 35%);
  z-index:5;
}

/* Herz auf dem Umschlag */
.heart-badge{
  position:absolute;
  left:50%;
  top:54%;
  transform: translate(-50%,-50%);
  width: 92px;
  height: 92px;
  z-index:6;
  cursor:pointer;
  outline:none;
}
.heart{
  width:100%;
  height:100%;
  background:var(--accent);
  position:relative;
  transform:rotate(-45deg);
  border-radius:18px;
  box-shadow:0 16px 30px rgba(255,59,122,.35);
  animation: pulse 1.35s ease-in-out infinite;
}
.heart:before, .heart:after{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background:var(--accent);
  border-radius:50%;
}
.heart:before{ top:-50%; left:0; }
.heart:after{ left:50%; top:0; }

@keyframes pulse{
  0%,100%{ transform: rotate(-45deg) scale(1); filter: brightness(1); }
  50%{ transform: rotate(-45deg) scale(1.06); filter: brightness(1.06); }
}

/* Open state */
.envelope.open .env-flap{
  transform: rotateX(-165deg);
}
.envelope.open .heart{
  animation:none;
}

/* ===== Panel ===== */
.panel{
  max-height:0;
  overflow:hidden;
  transition:max-height .65s ease;
  margin-top: 14px;
}
.panel.open{ max-height: 16000px; }

.question{
  font-size: 17px;
  font-weight: 900;
  margin: 10px 0 14px;
}

.btn-row{
  position:relative;
  height: 56px;
  margin-bottom: 6px;
}

button{
  padding:12px 18px;
  font-size:16px;
  border:none;
  border-radius:14px;
  font-weight:900;
  cursor:pointer;
  min-width: 120px;
  box-shadow: 0 10px 18px rgba(0,0,0,.08);
  transition: transform .12s ease, filter .12s ease;
}
button:active{ transform: scale(.98); }

#yesBtn{ background:var(--yes); color:#fff; }
#noBtn{
  background:var(--no);
  color:#fff;
  position:absolute;
  left: 52%;
  top:0;
  transform: translateX(-50%);
  touch-action:none;
}

.gift{
  display:none;
  margin-top: 16px;
  text-align:left;
  line-height:1.65;
  background: rgba(255,255,255,.70);
  border: 1px solid rgba(255,59,122,.18);
  border-radius: 18px;
  padding: 14px 14px;
}

.giftTextBox{
  max-height: 55vh;
  overflow:auto;
  padding-right: 6px;
}
.giftTextBox::-webkit-scrollbar{ width: 8px; }
.giftTextBox::-webkit-scrollbar-thumb{
  background: rgba(255,59,122,.25);
  border-radius: 10px;
}

.gift.show{ display:block; }

.signature{
  margin-top: 16px;
  font-weight: 900;
  text-align:center;
}

.type{
  font-size:15px;
  white-space: pre-wrap;
}
.cursor{
  display:inline-block;
  width: 10px;
  animation: blink 1s steps(2,end) infinite;
}
@keyframes blink{ 50%{ opacity:0; } }

.smallhint{
  margin-top: 10px;
  font-size: 12px;
  opacity:.7;
}

/* Konfetti Canvas */
#confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}

/* üíï Pop particles */
.pop{
  position: fixed;
  left: 0; top: 0;
  pointer-events:none;
  z-index: 10000;
}
.pop span{
  position:absolute;
  font-size: 18px;
  will-change: transform, opacity;
  animation: popFloat 900ms ease-out forwards;
  filter: drop-shadow(0 8px 10px rgba(0,0,0,.12));
}
@keyframes popFloat{
  0%   { transform: translate(0,0) scale(.8); opacity:0; }
  10%  { opacity:1; }
  100% { transform: translate(var(--dx), var(--dy)) scale(1.2); opacity:0; }
}
</style>
</head>

<body>
<canvas id="confetti"></canvas>
<div class="pop" id="pop"></div>

<div class="wrap">
  <div class="title">F√ºr Mausi üíñ‚ú®</div>
  <div class="subtitle">Tippe auf das Herz</div>

  <!-- Umschlag -->
  <div class="envelope-wrap">
    <div class="envelope" id="envelope">
      <div class="env-back"></div>
      <div class="env-paper">
        <div class="paper-text">üíå F√ºr dich, Mausi</div>
      </div>
      <div class="env-flap"></div>
      <div class="env-front"></div>

      <div class="heart-badge" id="heartBadge" role="button" tabindex="0" aria-label="Brief √∂ffnen">
        <div class="heart" id="heart"></div>
      </div>
    </div>
  </div>

  <div class="panel" id="panel">
    <div class="question">Bist du bereit f√ºr dein Valentinstagsgeschenk?</div>

    <div class="btn-row" id="btnRow">
      <button id="yesBtn">Ja üíñ</button>
      <button id="noBtn">Nein üôà</button>
    </div>

    <div class="gift" id="gift">
      <div style="font-weight:900; font-size:18px; margin-bottom:10px;">Mein Geschenk f√ºr dich üíù</div>

      <div class="giftTextBox">
        <div class="type" id="typeTarget"></div><span class="cursor" id="cursor">|</span>
      </div>

      <div class="signature">Dein Papa ü•∞</div>
    </div>

    <div class="smallhint">PS: ‚ÄûNein‚Äú ist nat√ºrlich keine Option üòÑ</div>
  </div>
</div>

<script>
/* ========= TEXT ========= */
const FULL_TEXT = `Mein wundersch√∂nes M√§dchenü•∞,

heute ist Valentinstag üíê‚Äì aber wenn ich ehrlich bin, f√ºhlt sich jeder Tag mit dir an wie ein kleiner Feiertag. Und trotzdem m√∂chte ich diesen besonderen Tag nutzen, um dir etwas zu sagen, was ich vielleicht viel √∂fter sagen sollte, wirklich viel √∂fter ‚Äì und zwar nicht nur zwischendurch, sondern mit ganzem Herzen.
Ich liebe dich.‚ù§Ô∏è Nicht nur ein bisschen. Nicht nur, weil du s√º√ü bist oder weil du mich zum Lachen bringst. Ich liebe dich in einer Tiefe, die ich selbst manchmal kaum begreifen kann. Du bist nicht einfach ‚Äûmeine Freundin‚Äú. Du bist mein Zuhause. Mein sicherer Hafen. Mein Ruhepol, wenn alles laut wird. Meine Motivation, wenn ich zweifle. Mein gr√∂√üter Schatz‚ù§Ô∏è
Ich sehe, was du jeden Tag leistest ‚Äì auch wenn du selbst es oft herunterspielst und nicht die Dankbarkeit f√ºhlst. Ich sehe, wie viel Herz du in unsere Beziehung steckst. Wie du dich k√ºmmerst. Wie du mitdenkst. Wie du f√ºr uns da bist. Wie du mir den R√ºcken st√§rkst, selbst wenn du selbst m√ºde bist. Du gibst so viel ‚Äì Liebe, Geduld, W√§rme, Verst√§ndnis ‚Äì und manchmal habe ich das Gef√ºhl, du merkst gar nicht, wie au√üergew√∂hnlich das ist.‚ù§Ô∏è
Du bist so unfassbar stark. St√§rker, als du es dir selbst zutraust. Du tr√§gst so viel ‚Äì deine eigenen Herausforderungen, deine Gedanken, deine Verantwortung ‚Äì und trotzdem schaffst du es, zu l√§cheln. F√ºr uns. F√ºr mich. Du bist ein Mensch mit einem riesigen Herzen und einer unglaublichen inneren Kraft. Und ich w√ºnsche mir so sehr, dass du dich selbst einmal mit meinen Augen sehen k√∂nntest.
Du w√ºrdest sehen: Eine Frau, die mutig ist.
Eine Frau, die klug ist.
Eine Frau, die liebevoll ist.
Eine Frau, die alles erreichen kann, was sie sich vornimmt.üôÇ‚Äç‚ÜïÔ∏è
Bitte untersch√§tze dich nie. Bitte glaub mir, wenn ich dir sage: Du kannst so viel mehr, als du denkst. Du hast so viel Potenzial in dir. So viel St√§rke. So viel Licht. Und ich werde immer derjenige sein, der dich daran erinnert ‚Äì selbst an den Tagen, an denen du selbst nicht daran glaubst.ü•∞
Ich bin so unendlich dankbar f√ºr dich. F√ºr deine N√§he. F√ºr deine Art, mich anzusehen. F√ºr deine kleinen Gesten. F√ºr dein Lachen. F√ºr deine Ehrlichkeit. F√ºr deine Z√§rtlichkeit. F√ºr alles, was dich ausmacht.‚ù§Ô∏è
Mit dir f√ºhlt sich die Zukunft nicht be√§ngstigend an, sondern aufregend. Mit dir m√∂chte ich wachsen. Mit dir m√∂chte ich tr√§umen. Mit dir m√∂chte ich k√§mpfen, feiern, scheitern und wieder aufstehen. Du bist nicht nur ein Teil meines Lebens ‚Äì du bist mein Lieblingskapitel.
Und wenn ich dir heute etwas versprechen darf, dann das:
Ich werde immer an dich glauben. Ich werde immer hinter dir stehen. Ich werde dich unterst√ºtzen, dich auffangen, dich pushen, dich halten. Ich werde dich lieben ‚Äì nicht nur an einfachen Tagen, sondern gerade an den schweren.‚ù§Ô∏è
Du bist mein Herz.
Du bist mein Gl√ºck.
Du bist meine gro√üe Liebe.
Und ich hoffe, du sp√ºrst jeden einzelnen Tag, wie unglaublich wertvoll du f√ºr mich bist.
Frohen Valentinstag, meine wundervolle, starke, einzigartige Frau.
Ich liebe dich ‚Äì mehr, als Worte jemals beschreiben und Handlungen dich f√ºhlen lassen k√∂nnten‚ù§Ô∏è`;

/* ========= Elements ========= */
const envelope = document.getElementById("envelope");
const heartBadge = document.getElementById("heartBadge");
const panel = document.getElementById("panel");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const gift = document.getElementById("gift");
const btnRow = document.getElementById("btnRow");
const typeTarget = document.getElementById("typeTarget");
const cursor = document.getElementById("cursor");
const pop = document.getElementById("pop");

/* ========= Open Envelope + Panel ========= */
function openAll(){
  envelope.classList.add("open");
  panel.classList.add("open");
}
heartBadge.addEventListener("click", openAll);
heartBadge.addEventListener("keydown", (e)=> {
  if(e.key === "Enter" || e.key === " ") openAll();
});

/* ========= Nein-button dodge ========= */
function dodge(){
  const rowRect = btnRow.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();
  const maxX = Math.max(0, rowRect.width - btnRect.width);
  const maxY = Math.max(0, rowRect.height - btnRect.height);
  const x = Math.floor(Math.random() * (maxX + 1));
  const y = Math.floor(Math.random() * (maxY + 1));
  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "none";
}
["mouseenter","mouseover","mousedown","touchstart","pointerdown"].forEach(evt=>{
  noBtn.addEventListener(evt, (e)=>{
    e.preventDefault();
    dodge();
  }, {passive:false});
});

/* ========= Typewriter ========= */
let typing = false;
function typeText(text, speed=14){
  if(typing) return;
  typing = true;
  typeTarget.textContent = "";
  cursor.style.display = "inline-block";
  let i = 0;
  const tick = () => {
    const s = (i < 700) ? speed : Math.max(6, speed-6);
    typeTarget.textContent += text[i];
    i++;
    if(i < text.length){
      setTimeout(tick, s);
    }else{
      typing = false;
      setTimeout(()=> cursor.style.display = "none", 900);
    }
  };
  tick();
}

/* ========= Confetti ========= */
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
let W,H;
function resize(){
  W = canvas.width = window.innerWidth * devicePixelRatio;
  H = canvas.height = window.innerHeight * devicePixelRatio;
}
window.addEventListener("resize", resize);
resize();

let confetti = [];
let confettiRunning = false;
function rand(min,max){ return Math.random()*(max-min)+min; }

function launchConfetti(durationMs=2200){
  const start = performance.now();
  confettiRunning = true;
  confetti = [];
  const colors = ["#ff3b7a","#ffd1e3","#ffffff","#ff6fa6","#ffb3d1"];
  const count = 180;

  for(let i=0;i<count;i++){
    confetti.push({
      x: rand(0,W),
      y: rand(-H*0.2, 0),
      vx: rand(-1.6,1.6) * devicePixelRatio,
      vy: rand(2.2,5.2) * devicePixelRatio,
      rot: rand(0,Math.PI*2),
      vr: rand(-0.2,0.2),
      size: rand(6,12) * devicePixelRatio,
      color: colors[Math.floor(rand(0, colors.length))]
    });
  }

  function frame(t){
    ctx.clearRect(0,0,W,H);
    const p = Math.min(1, (t - start) / durationMs);
    const alpha = 1 - p;
    ctx.globalAlpha = Math.max(0, alpha);

    for(const c of confetti){
      c.x += c.vx;
      c.y += c.vy;
      c.vy *= 1.005;
      c.rot += c.vr;

      ctx.save();
      ctx.translate(c.x, c.y);
      ctx.rotate(c.rot);
      ctx.fillStyle = c.color;
      ctx.fillRect(-c.size/2, -c.size/2, c.size, c.size*0.6);
      ctx.restore();
    }

    ctx.globalAlpha = 1;

    if(t - start < durationMs){
      requestAnimationFrame(frame);
    }else{
      ctx.clearRect(0,0,W,H);
      confettiRunning = false;
    }
  }
  requestAnimationFrame(frame);
}

/* ========= üíï Pop effect ========= */
function popHearts(x,y){
  const emojis = ["üíï","‚ú®","üíñ","üíò","üå∏"];
  const n = 14;
  for(let i=0;i<n;i++){
    const s = document.createElement("span");
    s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    const dx = (Math.random()*220 - 110) + "px";
    const dy = (Math.random()*-220 - 40) + "px";
    s.style.left = x + "px";
    s.style.top  = y + "px";
    s.style.setProperty("--dx", dx);
    s.style.setProperty("--dy", dy);
    s.style.fontSize = (14 + Math.random()*10) + "px";
    pop.appendChild(s);
    setTimeout(()=> s.remove(), 950);
  }
}

/* ========= Yes click ========= */
yesBtn.addEventListener("click", (e)=>{
  gift.classList.add("show");
  noBtn.style.display = "none";
  yesBtn.disabled = true;
  yesBtn.style.opacity = 0.9;

  if(!confettiRunning) launchConfetti();
  typeText(FULL_TEXT, 14);

  // Pop dort wo geklickt wurde (oder Button-Mitte)
  const rect = yesBtn.getBoundingClientRect();
  const x = (e.clientX || (rect.left + rect.width/2)) ;
  const y = (e.clientY || (rect.top + rect.height/2)) ;
  popHearts(x, y);

  setTimeout(()=>{
    gift.scrollIntoView({behavior:"smooth", block:"start"});
  }, 250);
});
</script>
</body>
</html>
